[DEBUG] CGI factory raw: ./cgi-bin
[DEBUG] CGI directory: /home/dangonz3/WEBSERVgitNiko/www/cgi-bin
[DEBUG][Router] absRoot: /home/dangonz3/WEBSERVgitNiko/www
[DEBUG][StaticHandlerFactory] created with rootsDir: /home/dangonz3/WEBSERVgitNiko/www
[DEBUG][UploadHandlerFactory] created with uploads path: /home/dangonz3/WEBSERVgitNiko/www/uploads
[DEBUG][CGIHandlerFactory] created with uploads path: /home/dangonz3/WEBSERVgitNiko/www/cgi-bin
[DEBUG][addListeningSocket] HOST = 127.0.0.1
[DEBUG][addListeningSocket] PORT = 8081
[DEBUG][addListeningSocket] New listenSocket fd = 3

 ✅ [INFO] Webserv arrancado. Escuchando conexiones...
------------------------LOOP_EPOLL++------------------------
[DEBUG][LOOP_EPOLL INICIO] client_fd = 3
[DEBUG][LOOP_EPOLL] accept_connection
[DEBUG][accept_connection] New connection accepted() fd = 5
------------------------LOOP_EPOLL++------------------------
[DEBUG][LOOP_EPOLL INICIO] client_fd = 5
[DEBUG][LOOP_EPOLL EPOLLIN] empezamos bucle EPOLLIN5
[DEBUG][readRequest] START
[DEBUG][getCompleteHeader] START

[DEBUG]-------------------[REQUEST] START-------------------
[DEBUG][Request] Start line parsed: GET /cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid HTTP/1.1
[DEBUG][Request] Path: /cgi-bin/pythonGET.py
[DEBUG][Request] Query String: nombre=Juan&ciudad=Madrid
[DEBUG][Request] Header found: Host =  localhost:8081
[DEBUG][Request] Header found: User-Agent =  curl/7.81.0
[DEBUG][Request] Header found: Accept =  */*
[Request] Body: 
[Request] Keep-Alive: true
[Request] Path: /cgi-bin/pythonGET.py
[Request] Query String: nombre=Juan&ciudad=Madrid
[DEBUG][Request] Request parsing completed successfully.
[DEBUG]-------------------[REQUEST] END-------------------

[DEBUG][getCompleteHeader] finished reading header
[DEBUG][areWeFinishedReading] START
[DEBUG] [[  FINISHED READING REQUEST  ]]
[DEBUG][createResponse] START

[DEBUG]-------------------[REQUEST] START-------------------
[DEBUG][Request] Start line parsed: GET /cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid HTTP/1.1
[DEBUG][Request] Path: /cgi-bin/pythonGET.py
[DEBUG][Request] Query String: nombre=Juan&ciudad=Madrid
[DEBUG][Request] Header found: Host =  localhost:8081
[DEBUG][Request] Header found: User-Agent =  curl/7.81.0
[DEBUG][Request] Header found: Accept =  */*
[Request] Body: 
[Request] Keep-Alive: true
[Request] Path: /cgi-bin/pythonGET.py
[Request] Query String: nombre=Juan&ciudad=Madrid
[DEBUG][Request] Request parsing completed successfully.
[DEBUG]-------------------[REQUEST] END-------------------

[DEBUG][Router] uri = /cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid
[DEBUG][Router] IRequestHandler* Router::resolve(Request& request) const 
[DEBUG][Utils::mapUriToPath] absRoot: /home/dangonz3/WEBSERVgitNiko/www
[DEBUG][Utils::mapUriToPath] uri: /cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid
[DEBUG][Utils::mapUriToPath] joined: /home/dangonz3/WEBSERVgitNiko/www/cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid
[DEBUG][Utils::mapUriToPath] norm: /home/dangonz3/WEBSERVgitNiko/www/cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid
[DEBUG][Utils::validateFilesystemEntry] absPath: /home/dangonz3/WEBSERVgitNiko/www/cgi-bin/pythonGET.py?nombre=Juan&ciudad=Madrid
[DEBUG][ErrorPageHandler] initialized with root path: /home/dangonz3/WEBSERVgitNiko/www
Rendering error page for code: 404
Relative path: /error_pages/404.html
ErrorPageHandler: relPath: /error_pages/404.html

Page_Handler: /home/dangonz3/WEBSERVgitNiko/www/error_pages/404.html
Checking if file exists: /home/dangonz3/WEBSERVgitNiko/www/error_pages/404.html
[DEBUG][DefaultResponseBuilder] Setting response status: 404 Not Found
[DEBUG][DefaultResponseBuilder] Setting response Content-Type: text/html
[DEBUG][DefaultResponseBuilder] Setting response Content-Length: 214
[DEBUG][DefaultResponseBuilder] Setting response Connection: keep-alive
[DEBUG][LOOP_EPOLL] terminado bucle EPOLLIN
------------------------LOOP_EPOLL++------------------------
[DEBUG][LOOP_EPOLL INICIO] client_fd = 5
[DEBUG][LOOP_EPOLL EPOLLOUT] empezamos bucle EPOLLOUT
[DEBUG][handleClientResponse] START
[DEBUG][close_fd] client_fd: 5 closed
[DEBUG][LOOP_EPOLL] terminado bucle EPOLLOUT
[DEBUG][LOOP_EPOLL] client_fd = 5

❎ Signal received, shutting down…
[DEBUG][LOOP EPOLL] epoll_wait() ended, epollfd = 4
[DEBUG] Servidor cerrado correctamente.
[DEBUG][StaticHandlerFactory] destroyed
[DEBUG][UploadHandlerFactory] destroyed
[DEBUG][CGIHandlerFactory] destroyed
[DEBUG] Router destructor called
